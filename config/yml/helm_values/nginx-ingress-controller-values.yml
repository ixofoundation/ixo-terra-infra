controller:
  replicaCount: 1
  labels:
    app: ingress-nginx
  topologySpreadConstraints:
    - labelSelector:
        matchLabels:
          app.kubernetes.io/name: '{{ include "ingress-nginx.name" . }}'
          app.kubernetes.io/instance: '{{ .Release.Name }}'
          app.kubernetes.io/component: controller
      topologyKey: topology.kubernetes.io/zone
      maxSkew: 1
      whenUnsatisfiable: ScheduleAnyway
    - labelSelector:
        matchLabels:
          app.kubernetes.io/name: '{{ include "ingress-nginx.name" . }}'
          app.kubernetes.io/instance: '{{ .Release.Name }}'
          app.kubernetes.io/component: controller
      topologyKey: kubernetes.io/hostname
      maxSkew: 1
      whenUnsatisfiable: ScheduleAnyway
  resources:
    requests:
      cpu: 100m
      memory: 100Mi
    limits:
      memory: 150Mi
  service:
    annotations:
      external-dns.alpha.kubernetes.io/hostname: ${host}
  admissionWebhooks:
    failurePolicy: Ignore
defaultBackend:
  resources:
    limits:
      memory: 30Mi
    requests:
      cpu: 10m
      memory: 20Mi